import{T as C,m as w,h as O,o as l,f as n,a as r,u as o,Z as j,w as y,b as s,e as q,z as m,V as p,B,F as v,q as M,t as x,g as b,O as g,s as f}from"./app-askt8K5R.js";import{_ as N}from"./AuthenticatedLayout-C8YoEsIG.js";import{_ as i}from"./InputLabel-CMp-l0Db.js";import{_ as c}from"./TextInput-CLTJhPhP.js";import{_ as u}from"./InputError-CpBzGDTz.js";import"./ApplicationLogo-B40Cx27m.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S=s("h2",null,"Users",-1),$={class:"flex flex-col justify-items-center items-center"},F={class:"my-4 border rounded-md px-4 py-1 bg-white"},D=s("h1",{class:"text-xl text-neutral-600"},"Create User",-1),E={class:"flex flex-col my-2 space-y-2 px-2 py-2 border rounded-md bg-white"},I=s("label",{for:"isOwner"}," If it is a crew, please check the owner. ",-1),P={class:"flex flex-row justify-items-center items-center space-x-2"},z={class:"flex-1 justify-items-center items-center space-x-2"},A=s("label",{for:"cam"},"Cam",-1),L={class:"flex-1 justify-items-center items-center space-x-2"},R=s("label",{for:"owner"},"Owner",-1),T={class:"flex-1 justify-items-center items-center space-x-2"},Z=s("label",{for:"owner"},"Crew",-1),G={key:0,class:"flex flex-col my-2 space-y-2"},H=s("option",{value:null},"Select",-1),J=["value"],K={class:"flex flex-col my-2 space-y-2"},Q={class:"flex flex-col my-2 space-y-2"},W={class:"flex flex-col my-2 space-y-2"},X={class:"flex flex-col my-2 space-y-2"},Y={class:"flex flex-col my-2 space-y-2 border rounded-md px-2 py-2 bg-white"},ee=s("label",{for:"avatar"},"Avatar:",-1),se=s("button",{class:"b-submit",type:"submit"},"Create User",-1),oe=["value"],ue={__name:"Create",setup(ae){const e=C({role:null,owner_id:null,name:"",email:"",password:"",password_confirmation:"",avatar:null}),h=async()=>{g.post(f("users.store"),{_method:"post",role:e.role,owner_id:e.owner_id,name:e.name,email:e.email,password:e.password,password_confirmation:e.password_confirmation,avatar:e.avatar})},_=w(null);O(async()=>{try{const d=await axios.get(f("owners.select"));_.value=d.data.owners}catch(d){console.error(d)}});const V=w(null),k=()=>{e.reset(),g.get(f("users.index"))};return(d,t)=>(l(),n(v,null,[r(o(j),{title:"Users"}),r(N,null,{header:y(()=>[S]),default:y(()=>[s("div",$,[s("div",F,[D,s("form",{onSubmit:q(h,["prevent"])},[s("div",E,[I,s("div",P,[s("div",z,[m(s("input",{type:"radio",id:"cam",value:"cam","onUpdate:modelValue":t[0]||(t[0]=a=>o(e).role=a)},null,512),[[p,o(e).role]]),A]),s("div",L,[m(s("input",{type:"radio",id:"owner",value:"owner","onUpdate:modelValue":t[1]||(t[1]=a=>o(e).role=a)},null,512),[[p,o(e).role]]),R]),s("div",T,[m(s("input",{type:"radio",id:"crew",value:"crew","onUpdate:modelValue":t[2]||(t[2]=a=>o(e).role=a)},null,512),[[p,o(e).role]]),Z])])]),o(e).role==="crew"?(l(),n("div",G,[r(i,{for:"owner_id",value:"Owner"}),m(s("select",{name:"owner_id",id:"owner_id",class:"rounded-md border border-md border-gray-300","onUpdate:modelValue":t[3]||(t[3]=a=>o(e).owner_id=a)},[H,(l(!0),n(v,null,M(_.value,(a,U)=>(l(),n("option",{key:U,value:a.id},x(a.name),9,J))),128))],512),[[B,o(e).owner_id]])])):b("",!0),s("div",K,[r(i,{for:"name",value:"Name"}),r(c,{id:"name",type:"text",class:"mt-1 block",required:"",autofocus:"",autocomplete:"name",modelValue:o(e).name,"onUpdate:modelValue":t[4]||(t[4]=a=>o(e).name=a)},null,8,["modelValue"]),r(u,{class:"mt-2",message:o(e).errors.name},null,8,["message"])]),s("div",Q,[r(i,{for:"email",value:"Email"}),r(c,{id:"email",type:"email",class:"mt-1 block",modelValue:o(e).email,"onUpdate:modelValue":t[5]||(t[5]=a=>o(e).email=a),required:"",autocomplete:"username"},null,8,["modelValue"]),r(u,{message:o(e).errors.email,class:"mt-2"},null,8,["message"])]),s("div",W,[r(i,{for:"password",value:"Password"}),r(c,{id:"password",type:"password",class:"mt-1 block",modelValue:o(e).password,"onUpdate:modelValue":t[6]||(t[6]=a=>o(e).password=a),required:""},null,8,["modelValue"]),r(u,{message:o(e).errors.password,class:"mt-2"},null,8,["message"])]),s("div",X,[r(i,{for:"password_confirmation",value:"Confirm Password"}),r(c,{id:"password_confirmation",modelValue:o(e).password_confirmation,"onUpdate:modelValue":t[7]||(t[7]=a=>o(e).password_confirmation=a),type:"password",class:"mt-1 block",required:"",autocomplete:"new-password"},null,8,["modelValue"]),r(u,{message:o(e).errors.password_confirmation,class:"mt-2"},null,8,["message"])]),s("div",Y,[ee,s("input",{type:"file",id:"avatar",ref_key:"avatar",ref:V,onInput:t[8]||(t[8]=a=>o(e).avatar=a.target.files[0])},null,544)]),s("div",{class:"flex flex-row justify-around my-4"},[se,s("button",{type:"button",onClick:k,class:"b-cancel"},"Cancel")]),o(e).progress?(l(),n("progress",{key:1,value:o(e).progress.percentage,max:"100"},x(o(e).progress.percentage)+"% ",9,oe)):b("",!0)],32)])])]),_:1})],64))}};export{ue as default};
