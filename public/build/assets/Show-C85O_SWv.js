import{o as a,f as n,b as e,n as D,g as V,F as w,q as j,t as s,x as m,j as T,y as q,T as B,a as v,u as x,Z as R,w as h,d as r,i as f,m as k,z,s as I}from"./app-DUKP9LHo.js";import{_ as W}from"./AuthenticatedLayout-9CSZ0EKB.js";import{_ as E}from"./lodash-CeTJcsMa.js";import{_ as K}from"./Modal-B1_oOoN7.js";import{_ as M}from"./InputLabel-6mOR-8PO.js";import"./ApplicationLogo-DzpC7Oin.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"flex flex-row items-center mt-4"},Z=e("span",{"aria-hidden":"true"},"«",-1),G=[Z],H=["onClick"],J=e("span",{"aria-hidden":"true"},"»",-1),Q=[J],X={__name:"Paginator2",props:{currentPage:{type:Number,required:!0},lastPage:{type:Number,required:!0}},emits:["page-change"],setup(l,{emit:b}){const y=l,g=b,_=c=>{c>=1&&c<=y.lastPage&&g("page-change",c)};return(c,p)=>(a(),n("div",null,[e("div",O,[l.currentPage!==1?(a(),n("button",{key:0,class:D(["mr-1 mb-1 px-4 py-3 text-sm leading-4 text-gray-400 border rounded cursor-pointer",{disabled:l.currentPage===1}]),onClick:p[0]||(p[0]=d=>_(l.currentPage-1)),"aria-label":"Previous"},G,2)):V("",!0),(a(!0),n(w,null,j(l.lastPage,d=>(a(),n("button",{key:d,class:D(["mr-1 mb-1 px-4 py-3 text-sm leading-4 text-gray-400 border rounded cursor-pointer",{"hover:text-blue-700 hover:bg-blue-300":l.currentPage!==d},{"text-blue-700 bg-blue-300":l.currentPage===d}]),onClick:N=>_(d)},s(d),11,H))),128)),l.currentPage!==l.lastPage?(a(),n("button",{key:1,class:D(["mr-1 mb-1 px-4 py-3 text-sm leading-4 text-gray-400 border rounded cursor-pointer hover:text-blue-700 hover:bg-blue-300",{disabled:l.currentPage===l.lastPage}]),onClick:p[1]||(p[1]=d=>_(l.currentPage+1)),"aria-label":"Next"},Q,2)):V("",!0)])]))}};function Y(){function l(b,y="en-US",g="USD"){return new Intl.NumberFormat(y,{style:"currency",currency:g}).format(b)}return{formatCurrency:l}}const ee=e("h2",null,"Camos",-1),te={class:"flex flex-col justify-items-center items-center"},se={class:"my-4 border rounded-md px-4 py-4"},le={class:"flex flex-row justify-start items-start space-x-7"},ae={class:"flex flex-col px-4"},ne=e("b",null,"Customer:",-1),oe=e("b",null,"Contract:",-1),re=e("b",null,"Project Manager:",-1),ue=e("b",null,"Location:",-1),de={class:"flex flex-col px-4"},ie=e("span",null,"Project",-1),ce=e("b",null,"Aircraft:",-1),me=e("b",null,"Description:",-1),_e=e("b",null,"Start Date:",-1),pe=e("b",null,"Finish Date:",-1),ve=e("span",null,[e("b",null,"Labor Curr:"),r(" USD")],-1),be=e("span",null,[e("b",null,"Material Curr:"),r(" USD")],-1),he=e("hr",{class:"my-2 h-0.5 bg-neutral-200"},null,-1),ge={class:"my-2 flex flex-row justify-items-center items-center space-x-7"},xe={class:"p-4"},fe={class:"flex flex-row justify-items-start items-center space-x-7"},ye=e("b",null,"Activity:",-1),ke=e("b",null,"Date:",-1),we=e("p",{class:"font-semibold"},"Description:",-1),Ce={id:"comments",class:"rounded-md border-gray-300 w-full",cols:"30",name:"comments",rows:"3"},Pe=e("hr",{class:"my-2"},null,-1),Se={class:"grid grid-cols-2 gap-4"},$e=e("p",{class:"font-semibold"},"Comments:",-1),De={id:"comments",class:"rounded-md border-gray-300",cols:"30",name:"comments",rows:"5"},Me={class:"flex flex-col"},je={class:"my-1"},Ne={class:"my-1"},Ue={class:"grid grid-cols-2 gap-4 my-2"},Ve=e("div",{class:"font-semibold"},"Status:",-1),Ae={class:"flex flex-row justify-items-center items-center"},Le=e("svg",{height:"21",viewBox:"0 0 21 21",width:"21",xmlns:"http://www.w3.org/2000/svg"},[e("g",{fill:"currentColor","fill-rule":"evenodd"},[e("circle",{cx:"10.5",cy:"10.5",r:"1"}),e("circle",{cx:"10.5",cy:"5.5",r:"1"}),e("circle",{cx:"10.5",cy:"15.5",r:"1"})])],-1),Fe=[Le],Te={key:0},qe=["value"],Be={key:1},Re={key:0,class:"bg-green-100 text-green-800 text-xl font-medium me-2 px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300"},ze={key:1,class:"bg-indigo-100 text-indigo-800 text-xl font-medium me-2 px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300"},Ie={key:2,class:"bg-amber-100 text-amber-800 text-xl font-medium me-2 px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300"},We=e("div",{class:"font-semibold"},"Approval Status:",-1),Ee={key:0,class:"bg-green-100 text-green-800 text-xl font-medium me-2 px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300"},Ke={key:1,class:"bg-amber-100 text-amber-800 text-xl font-medium me-2 px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300"},Oe={class:"table-auto"},Ze=e("thead",null,[e("tr",null,[e("th",null,"Required"),e("th",null,"Date"),e("th",null,"Name"),e("th",null,"Description"),e("th",null,"Status"),e("th",null,"Comments"),e("th",null,"Labor/Mount"),e("th",null,"Material/Mount"),e("th",null,"AWR"),e("th",null,"Approval/Status")])],-1),Ge=["onClick"],He={class:"line-clamp-2"},Je={key:0,class:"badge-pending"},Qe={key:1,class:"badge-progress"},Xe={key:2,class:"badge-completed"},Ye={class:"line-clamp-2"},et={class:"text-right"},tt={class:"text-right"},st={key:0,class:"badge-pending"},lt={key:1,class:"badge-approval"},at={colspan:"10"},_t={__name:"Show",props:{resource:{type:Object,default:()=>({})}},setup(l){const{formatCurrency:b}=Y(),g=m(l.resource.data.id),_=m(null),c=m(null),p=m(null),d=m(""),N=i=>{console.log(i),c.value=i},C=async()=>{try{const i=await axios.get(I("camos.activities"),{params:{camo_id:g.value,page:c.value,search:d.value}});_.value=i.data,c.value=i.data.current_page,p.value=i.data.last_page}catch(i){console.error(i)}};T(C);const U=E.throttle(function(){C()},200);q([c],C);const P=m(!1),o=m(null),A=i=>{o.value=i,P.value=!0},S=m(!1),L=()=>{S.value=!S.value},F=m([{value:"pending",label:"Pending"},{value:"in_progress",label:"in Progress"},{value:"completed",label:"Completed"}]);return B({}),(i,u)=>(a(),n(w,null,[v(x(R),{title:"Camos"}),v(W,null,{header:h(()=>[ee]),default:h(()=>[e("div",te,[e("div",se,[e("div",le,[e("div",ae,[e("span",null,[ne,r(" "+s(l.resource.data.customer),1)]),e("span",null,[oe,r(" "+s(l.resource.data.contract),1)]),e("span",null,[re,r(" "+s(l.resource.data.cam),1)]),e("span",null,[ue,r(" "+s(l.resource.data.location),1)])]),e("div",de,[ie,e("span",null,[ce,r(" "+s(l.resource.data.aircraft),1)]),e("span",null,[me,r(" "+s(l.resource.data.description),1)]),e("span",null,[_e,r(" "+s(l.resource.data.start_date),1)]),e("span",null,[pe,r(" "+s(l.resource.data.finish_date),1)]),ve,be])]),he,e("form",ge,[f(e("input",{id:"search","onUpdate:modelValue":u[0]||(u[0]=t=>d.value=t),class:"px-4 py-2 rounded-md border-gray-300 w-1/5",name:"search",placeholder:"type for search and clear to reset",type:"text",onKeyup:u[1]||(u[1]=(...t)=>x(U)&&x(U)(...t))},null,544),[[k,d.value]])]),e("div",null,[v(K,{closeable:!0,show:P.value,onClose:u[6]||(u[6]=t=>P.value=!1)},{default:h(()=>[e("div",xe,[e("div",fe,[e("div",null,[ye,r(" "+s(o.value.name),1)]),e("div",null,[ke,r(" "+s(o.value.date),1)])]),e("div",null,[we,e("textarea",Ce,s(o.value.description),1)]),Pe,e("div",Se,[e("div",null,[$e,e("div",null,[e("textarea",De,s(o.value.comments),1)])]),e("div",Me,[e("div",je,[v(M,{class:"text-neutral-900 font-semibold",for:"labor_mount"},{default:h(()=>[r("Labor Mount: ")]),_:1}),f(e("input",{id:"labor_mount","onUpdate:modelValue":u[2]||(u[2]=t=>o.value.labor_mount=t),class:"text-right rounded-md border-gray-400",name:"labor_mount",type:"number"},null,512),[[k,o.value.labor_mount]])]),e("div",Ne,[v(M,{class:"text-gray-900 font-semibold",for:"material_mount"},{default:h(()=>[r("Material Mount: ")]),_:1}),f(e("input",{id:"labor_mount","onUpdate:modelValue":u[3]||(u[3]=t=>o.value.material_mount=t),class:"text-right rounded-md border-gray-400",name:"labor_mount",type:"number"},null,512),[[k,o.value.material_mount]])])]),e("div",null,[v(M,{class:"text-gray-900 font-semibold",for:"material_mount"},{default:h(()=>[r("AWR: ")]),_:1}),f(e("input",{id:"awr","onUpdate:modelValue":u[4]||(u[4]=t=>o.value.awr=t),class:"rounded-md border-gray-400 w-full",name:"awr",type:"text"},null,512),[[k,o.value.awr]])])]),e("div",Ue,[e("div",null,[Ve,e("div",Ae,[e("button",{onClick:L},Fe),S.value?(a(),n("div",Te,[f(e("select",{name:"status",id:"status",class:"py-1 rounded-md","onUpdate:modelValue":u[5]||(u[5]=t=>o.value.status=t)},[(a(!0),n(w,null,j(F.value,(t,$)=>(a(),n("option",{key:$,value:t.value},s(t.label),9,qe))),128))],512),[[z,o.value.status]])])):(a(),n("div",Be,[o.value.status==="completed"?(a(),n("span",Re,s(o.value.status),1)):o.value.status==="in_progress"?(a(),n("span",ze,s(o.value.status),1)):(a(),n("span",Ie,s(o.value.status),1))]))])]),e("div",null,[We,e("div",null,[o.value.approval_status==="approved"?(a(),n("span",Ee,s(o.value.approval_status),1)):(a(),n("span",Ke,s(o.value.approval_status),1))])])])])]),_:1},8,["show"]),e("table",Oe,[Ze,e("tbody",null,[(a(!0),n(w,null,j(_.value&&_.value.resource,(t,$)=>(a(),n("tr",{key:$,class:"cursor-pointer",onClick:nt=>A(t)},[e("td",null,s(t.id),1),e("td",null,s(t.date),1),e("td",null,s(t.name),1),e("td",He,s(t.description),1),e("td",null,[t.status==="pending"?(a(),n("span",Je,s(t.status),1)):t.status==="in_progress"?(a(),n("span",Qe,s(t.status),1)):(a(),n("span",Xe,s(t.status),1))]),e("td",Ye,s(t.comments),1),e("td",et,s(x(b)(t.labor_mount)),1),e("td",tt,s(x(b)(t.material_mount)),1),e("td",null,s(t.awr),1),e("td",null,[t.approval_status==="pending"?(a(),n("span",st,s(t.approval_status),1)):(a(),n("span",lt,s(t.approval_status),1))])],8,Ge))),128))]),e("tfoot",null,[e("tr",null,[e("td",at,[v(X,{class:"float-right","current-page":c.value,"last-page":p.value,onPageChange:N},null,8,["current-page","last-page"])])])])])])])])]),_:1})],64))}};export{_t as default};
