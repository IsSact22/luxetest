import{T as C,l as w,h as j,o as r,f as n,a as l,u as o,Z as O,w as y,b as s,e as q,E as m,P as p,G as B,F as v,B as M,t as x,g as b,R as g,y as f}from"./app-WNOO2WIU.js";import{_ as N}from"./AuthenticatedLayout-L7bL2T_0.js";import{_ as i}from"./InputLabel-Cztqo-O3.js";import{_ as c,a as u}from"./TextInput-DCkT8xcF.js";import"./ApplicationLogo-3gGBJW1e.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S=s("h2",null,"Users",-1),$={class:"flex flex-col justify-items-center items-center"},E={class:"my-4 border rounded-md px-4 py-1 bg-white"},F=s("h1",{class:"text-xl text-neutral-600"},"Create User",-1),P={class:"flex flex-col my-2 space-y-2 px-2 py-2 border rounded-md bg-white"},D=s("label",{for:"isOwner"}," If it is a crew, please check the owner. ",-1),I={class:"flex flex-row justify-items-center items-center space-x-2"},R={class:"flex-1 justify-items-center items-center space-x-2"},A=s("label",{for:"cam"},"Cam",-1),G={class:"flex-1 justify-items-center items-center space-x-2"},L=s("label",{for:"owner"},"Owner",-1),T={class:"flex-1 justify-items-center items-center space-x-2"},Z=s("label",{for:"owner"},"Crew",-1),z={key:0,class:"flex flex-col my-2 space-y-2"},H=s("option",{value:null},"Select",-1),J=["value"],K={class:"flex flex-col my-2 space-y-2"},Q={class:"flex flex-col my-2 space-y-2"},W={class:"flex flex-col my-2 space-y-2"},X={class:"flex flex-col my-2 space-y-2"},Y={class:"flex flex-col my-2 space-y-2 border rounded-md px-2 py-2 bg-white"},ee=s("label",{for:"avatar"},"Avatar:",-1),se=s("button",{class:"b-submit",type:"submit"},"Create User",-1),oe=["value"],ce={__name:"Create",setup(ae){const e=C({role:null,owner_id:null,name:"",email:"",password:"",password_confirmation:"",avatar:null}),h=async()=>{g.post(f("users.store"),{_method:"post",role:e.role,owner_id:e.owner_id,name:e.name,email:e.email,password:e.password,password_confirmation:e.password_confirmation,avatar:e.avatar})},_=w(null);j(async()=>{try{const d=await axios.get(f("owners.select"));_.value=d.data.owners}catch(d){console.error(d)}});const V=w(null),k=()=>{e.reset(),g.get(f("users.index"))};return(d,t)=>(r(),n(v,null,[l(o(O),{title:"Users"}),l(N,null,{header:y(()=>[S]),default:y(()=>[s("div",$,[s("div",E,[F,s("form",{onSubmit:q(h,["prevent"])},[s("div",P,[D,s("div",I,[s("div",R,[m(s("input",{type:"radio",id:"cam",value:"cam","onUpdate:modelValue":t[0]||(t[0]=a=>o(e).role=a)},null,512),[[p,o(e).role]]),A]),s("div",G,[m(s("input",{type:"radio",id:"owner",value:"owner","onUpdate:modelValue":t[1]||(t[1]=a=>o(e).role=a)},null,512),[[p,o(e).role]]),L]),s("div",T,[m(s("input",{type:"radio",id:"crew",value:"crew","onUpdate:modelValue":t[2]||(t[2]=a=>o(e).role=a)},null,512),[[p,o(e).role]]),Z])])]),o(e).role==="crew"?(r(),n("div",z,[l(i,{for:"owner_id",value:"Owner"}),m(s("select",{name:"owner_id",id:"owner_id",class:"rounded-md border border-md border-gray-300","onUpdate:modelValue":t[3]||(t[3]=a=>o(e).owner_id=a)},[H,(r(!0),n(v,null,M(_.value,(a,U)=>(r(),n("option",{key:U,value:a.id},x(a.name),9,J))),128))],512),[[B,o(e).owner_id]])])):b("",!0),s("div",K,[l(i,{for:"name",value:"Name"}),l(c,{id:"name",type:"text",class:"mt-1 block",required:"",autofocus:"",autocomplete:"name",modelValue:o(e).name,"onUpdate:modelValue":t[4]||(t[4]=a=>o(e).name=a)},null,8,["modelValue"]),l(u,{class:"mt-2",message:o(e).errors.name},null,8,["message"])]),s("div",Q,[l(i,{for:"email",value:"Email"}),l(c,{id:"email",type:"email",class:"mt-1 block",modelValue:o(e).email,"onUpdate:modelValue":t[5]||(t[5]=a=>o(e).email=a),required:"",autocomplete:"username"},null,8,["modelValue"]),l(u,{message:o(e).errors.email,class:"mt-2"},null,8,["message"])]),s("div",W,[l(i,{for:"password",value:"Password"}),l(c,{id:"password",type:"password",class:"mt-1 block",modelValue:o(e).password,"onUpdate:modelValue":t[6]||(t[6]=a=>o(e).password=a),required:""},null,8,["modelValue"]),l(u,{message:o(e).errors.password,class:"mt-2"},null,8,["message"])]),s("div",X,[l(i,{for:"password_confirmation",value:"Confirm Password"}),l(c,{id:"password_confirmation",modelValue:o(e).password_confirmation,"onUpdate:modelValue":t[7]||(t[7]=a=>o(e).password_confirmation=a),type:"password",class:"mt-1 block",required:"",autocomplete:"new-password"},null,8,["modelValue"]),l(u,{message:o(e).errors.password_confirmation,class:"mt-2"},null,8,["message"])]),s("div",Y,[ee,s("input",{type:"file",id:"avatar",ref_key:"avatar",ref:V,onInput:t[8]||(t[8]=a=>o(e).avatar=a.target.files[0])},null,544)]),s("div",{class:"flex flex-row justify-around my-4"},[se,s("button",{type:"button",onClick:k,class:"b-cancel"},"Cancel")]),o(e).progress?(r(),n("progress",{key:1,value:o(e).progress.percentage,max:"100"},x(o(e).progress.percentage)+"% ",9,oe)):b("",!0)],32)])])]),_:1})],64))}};export{ce as default};
