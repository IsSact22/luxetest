import{T as U,x as _,j as k,o as r,f as n,a as l,u as o,Z as C,w,b as s,e as j,i as m,K as p,L as O,F as v,q,t as y,g as x,O as M,s as b}from"./app-lS8yrNDC.js";import{_ as N}from"./AuthenticatedLayout-DPg2hWZH.js";import{_ as i}from"./InputLabel-CS8MDkL9.js";import{_ as c,a as u}from"./TextInput-BXauYlTY.js";import"./ApplicationLogo-BclpwS_L.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S=s("h2",null,"Users",-1),$={class:"flex flex-col justify-items-center items-center"},B={class:"my-4 border rounded-md px-4 py-4"},D={class:"flex flex-col justify-items-center items-start"},E=s("h1",{class:"text-xl"},"Create User",-1),F={class:"flex flex-col my-2 space-y-2"},I=s("label",{for:"isOwner"}," If it is a crew, please check the owner. ",-1),L={class:"flex flex-row justify-items-center items-center space-x-2"},P={class:"flex-1 justify-items-center items-center space-x-2"},A=s("label",{for:"cam"},"Cam",-1),K={class:"flex-1 justify-items-center items-center space-x-2"},R=s("label",{for:"owner"},"Owner",-1),T={class:"flex-1 justify-items-center items-center space-x-2"},Z=s("label",{for:"owner"},"Crew",-1),z={key:0,class:"flex flex-col my-2 space-y-2"},G=s("option",{value:null},"Select",-1),H=["value"],J={class:"flex flex-col my-2 space-y-2"},Q={class:"flex flex-col my-2 space-y-2"},W={class:"flex flex-col my-2 space-y-2"},X={class:"flex flex-col my-2 space-y-2"},Y={class:"flex flex-col my-2 space-y-2"},ee=s("label",{for:"avatar"},"Avatar:",-1),se=s("div",{class:"flex flex-row justify-around my-4"},[s("button",{class:"b-submit",type:"submit"},"Create User"),s("button",{class:"b-cancel"},"Cancel")],-1),oe=["value"],ce={__name:"Create",setup(ae){const e=U({role:null,owner_id:null,name:"",email:"",password:"",password_confirmation:"",avatar:null}),g=async()=>{M.post(b("users.store"),{_method:"post",role:e.role,owner_id:e.owner_id,name:e.name,email:e.email,password:e.password,password_confirmation:e.password_confirmation,avatar:e.avatar})},f=_(null);k(async()=>{try{const d=await axios.get(b("owners.select"));f.value=d.data.owners}catch(d){console.error(d)}});const V=_(null);return(d,t)=>(r(),n(v,null,[l(o(C),{title:"Users"}),l(N,null,{header:w(()=>[S]),default:w(()=>[s("div",$,[s("div",B,[s("div",D,[E,s("form",{onSubmit:j(g,["prevent"])},[s("div",F,[I,s("div",L,[s("div",P,[m(s("input",{type:"radio",id:"cam",value:"cam","onUpdate:modelValue":t[0]||(t[0]=a=>o(e).role=a)},null,512),[[p,o(e).role]]),A]),s("div",K,[m(s("input",{type:"radio",id:"owner",value:"owner","onUpdate:modelValue":t[1]||(t[1]=a=>o(e).role=a)},null,512),[[p,o(e).role]]),R]),s("div",T,[m(s("input",{type:"radio",id:"crew",value:"crew","onUpdate:modelValue":t[2]||(t[2]=a=>o(e).role=a)},null,512),[[p,o(e).role]]),Z])])]),o(e).role==="crew"?(r(),n("div",z,[l(i,{for:"owner_id",value:"Owner"}),m(s("select",{name:"owner_id",id:"owner_id",class:"rounded-md border border-md border-gray-300","onUpdate:modelValue":t[3]||(t[3]=a=>o(e).owner_id=a)},[G,(r(!0),n(v,null,q(f.value,(a,h)=>(r(),n("option",{key:h,value:a.id},y(a.name),9,H))),128))],512),[[O,o(e).owner_id]])])):x("",!0),s("div",J,[l(i,{for:"name",value:"Name"}),l(c,{id:"name",type:"text",class:"mt-1 block",required:"",autofocus:"",autocomplete:"name",modelValue:o(e).name,"onUpdate:modelValue":t[4]||(t[4]=a=>o(e).name=a)},null,8,["modelValue"]),l(u,{class:"mt-2",message:o(e).errors.name},null,8,["message"])]),s("div",Q,[l(i,{for:"email",value:"Email"}),l(c,{id:"email",type:"email",class:"mt-1 block",modelValue:o(e).email,"onUpdate:modelValue":t[5]||(t[5]=a=>o(e).email=a),required:"",autocomplete:"username"},null,8,["modelValue"]),l(u,{message:o(e).errors.email,class:"mt-2"},null,8,["message"])]),s("div",W,[l(i,{for:"password",value:"Password"}),l(c,{id:"password",type:"password",class:"mt-1 block",modelValue:o(e).password,"onUpdate:modelValue":t[6]||(t[6]=a=>o(e).password=a),required:""},null,8,["modelValue"]),l(u,{message:o(e).errors.password,class:"mt-2"},null,8,["message"])]),s("div",X,[l(i,{for:"password_confirmation",value:"Confirm Password"}),l(c,{id:"password_confirmation",modelValue:o(e).password_confirmation,"onUpdate:modelValue":t[7]||(t[7]=a=>o(e).password_confirmation=a),type:"password",class:"mt-1 block",required:"",autocomplete:"new-password"},null,8,["modelValue"]),l(u,{message:o(e).errors.password_confirmation,class:"mt-2"},null,8,["message"])]),s("div",Y,[ee,s("input",{type:"file",id:"avatar",ref_key:"avatar",ref:V,onInput:t[8]||(t[8]=a=>o(e).avatar=a.target.files[0])},null,544)]),se,o(e).progress?(r(),n("progress",{key:1,value:o(e).progress.percentage,max:"100"},y(o(e).progress.percentage)+"% ",9,oe)):x("",!0)],32)])])])]),_:1})],64))}};export{ce as default};
