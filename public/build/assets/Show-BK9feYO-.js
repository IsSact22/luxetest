import{o as r,f as u,b as t,n as V,g as M,F as k,B as N,t as l,l as f,h as E,z as O,k as I,T as R,a as d,u as a,Z as W,w as i,i as G,y as L,d as m,e as T,E as v,H as h,D as H,G as K,c as Z,p as J,j as Q}from"./app-WNOO2WIU.js";import{_ as X}from"./AuthenticatedLayout-L7bL2T_0.js";import{_ as Y}from"./lodash-C_PDxICf.js";import{_ as tt}from"./Modal-QGThs_66.js";import{_ as b}from"./InputLabel-Cztqo-O3.js";import{u as et}from"./formatCurrency-DyGBh4OH.js";import{P as st}from"./PrimaryButton-CWDDGAVY.js";import{_ as at}from"./SecondaryButton-xsgEDSs-.js";import{_ as ot}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-3gGBJW1e.js";const lt={class:"flex flex-row items-center mt-4"},nt=t("span",{"aria-hidden":"true"},"«",-1),rt=[nt],dt=["onClick"],it=t("span",{"aria-hidden":"true"},"»",-1),ut=[it],ct={__name:"Paginator2",props:{currentPage:{type:Number,required:!0},lastPage:{type:Number,required:!0}},emits:["page-change"],setup(o,{emit:x}){const P=o,$=x,y=g=>{g>=1&&g<=P.lastPage&&$("page-change",g)};return(g,w)=>(r(),u("div",null,[t("div",lt,[o.currentPage!==1?(r(),u("button",{key:0,class:V(["mr-1 mb-1 px-4 py-3 text-sm leading-4 text-gray-500 border rounded cursor-pointer",{disabled:o.currentPage===1}]),onClick:w[0]||(w[0]=_=>y(o.currentPage-1)),"aria-label":"Previous"},rt,2)):M("",!0),(r(!0),u(k,null,N(o.lastPage,_=>(r(),u("button",{key:_,class:V(["mr-1 mb-1 px-4 py-3 text-sm leading-4 text-gray-500 border rounded cursor-pointer",{"hover:text-blue-700 hover:bg-blue-300":o.currentPage!==_},{"text-blue-700 bg-blue-300":o.currentPage===_}]),onClick:U=>y(_)},l(_),11,dt))),128)),o.currentPage!==o.lastPage?(r(),u("button",{key:1,class:V(["mr-1 mb-1 px-4 py-3 text-sm leading-4 text-gray-500 border rounded cursor-pointer hover:text-blue-700 hover:bg-blue-300",{disabled:o.currentPage===o.lastPage}]),onClick:w[1]||(w[1]=_=>y(o.currentPage+1)),"aria-label":"Next"},ut,2)):M("",!0)])]))}},p=o=>(J("data-v-d1f5d99d"),o=o(),Q(),o),mt=p(()=>t("h2",null,"Camos",-1)),pt={class:"flex flex-col justify-items-center items-center max-w-7xl mx-auto"},_t={class:"my-4 border rounded-md px-4 py-4"},gt={class:"space-x-3 my-3"},vt={class:"grid grid-cols-3 gap-4 my-3"},ft={class:"flex flex-col px-4 border rounded-md bg-gray-100/50"},ht=p(()=>t("h1",{class:"text-gray-700"},"Customer Data",-1)),bt=p(()=>t("hr",{class:"h-0.5 bg-neutral-400"},null,-1)),xt={class:"grid grid-cols-2 gap-2"},yt=p(()=>t("div",null,[t("p",null,"Customer"),t("p",null,"Contract"),t("p",null,"Project Manager"),t("p",null,"Location")],-1)),wt={class:"flex flex-col px-4 border rounded-md bg-gray-100/50"},Pt=p(()=>t("h1",{class:"text-gray-700"},"Project",-1)),Ct=p(()=>t("hr",{class:"h-0.5 bg-neutral-400"},null,-1)),kt={class:"grid grid-cols-2 gap-2"},Mt=p(()=>t("div",null,[t("p",null,"Aircraft"),t("p",null,"Description"),t("p",null,"Start Date"),t("p",null,"Finish Date")],-1)),$t={class:"text-right"},Dt={class:"text-right line-clamp-1"},St={class:"text-right"},Vt={class:"text-right"},Nt={class:"flex flex-col px-4 border rounded-md bg-gray-100/50"},Ut=p(()=>t("h1",{class:"text-gray-700"},"Summary",-1)),jt=p(()=>t("hr",{class:"h-0.5 bg-neutral-400"},null,-1)),At={class:"grid grid-cols-2 gap-2"},Ft=p(()=>t("div",null,[t("p",null,"Labor Mount"),t("p",null,"Material Mount"),t("p",null,"Total")],-1)),It={class:"text-right"},Lt={class:"text-right"},Tt=p(()=>t("hr",{class:"h-0.5 bg-gray-300"},null,-1)),Bt={class:"text-right"},qt={class:"my-2"},zt={class:"px-6 py-4 space-y-3"},Et={class:"flex flex-row justify-items-start items-center space-x-7"},Ot={key:0},Rt={class:"flex flex-row justify-around"},Wt={class:"w-1/2"},Gt={class:"flex flex-row justify-items-center space-x-3"},Ht={class:"my-1"},Kt={class:"my-1"},Zt=["value"],Jt={class:"flex justify-end space-x-4"},Qt={class:"table-auto w-full"},Xt=p(()=>t("thead",null,[t("tr",null,[t("th",null,"id"),t("th",null,"Date"),t("th",null,"Name"),t("th",null,"Status"),t("th",null,"Labor/Mount"),t("th",null,"Material/Mount"),t("th",null,"AWR"),t("th",null,"Approval/Status")])],-1)),Yt=["onClick"],te={class:"flex place-content-center"},ee={key:0,class:"badge-pending"},se={key:1,class:"badge-progress"},ae={key:2,class:"badge-completed"},oe={class:"text-right"},le={class:"text-right"},ne={class:"line-clamp-1"},re={class:"flex place-content-center"},de={key:0,class:"badge-pending"},ie={key:1,class:"badge-approval"},ue={class:"flex float-right"},ce={__name:"Show",props:{resource:{type:Object,default:()=>({})}},setup(o){const{formatCurrency:x}=et(),P=o,$=f(P.resource.data.id),y=f(null),g=f(null),w=f(null),_=f(""),U=c=>{console.log(c),g.value=c},D=async()=>{try{const c=await axios.get(L("camos.activities"),{params:{camo_id:$.value,page:g.value,search:_.value}});y.value=c.data,g.value=c.data.current_page,w.value=c.data.last_page}catch(c){console.error(c)}};E(D);const j=Y.throttle(function(){D()},200);O([g],D);const A=I(()=>P.resource.data.activities.reduce((s,e)=>s+Number(e.labor_mount),0).toFixed(2)),F=I(()=>P.resource.data.activities.reduce((s,e)=>s+Number(e.material_mount),0).toFixed(2)),C=f(!1),B=f(null),n=R({name:"",date:"",description:"",comments:"",awr:"",labor_mount:"",material_mount:"",material_information:"",status:""}),q=c=>{B.value=c.id,Object.assign(n,c),n.defaults(c),C.value=!0};f(!1);const z=f([{value:"pending",label:"Pending"},{value:"in_progress",label:"in Progress"},{value:"completed",label:"Completed"}]);return(c,s)=>(r(),u(k,null,[d(a(W),{title:"Camos"}),d(X,null,{header:i(()=>[mt]),default:i(()=>[t("div",pt,[t("div",_t,[t("div",gt,[d(a(G),{class:"b-goto",href:a(L)("camos.index")},{default:i(()=>[m("back to Camos")]),_:1},8,["href"]),t("button",{type:"button",onClickPassive:s[0]||(s[0]=T(()=>{},["prevent"])),class:"b-inDev",title:"Under development"},"Camo to PDF",32),t("button",{type:"button",onClickPassive:s[1]||(s[1]=T(()=>{},["prevent"])),class:"b-inDev",title:"Under development"},"Archive Camo",32)]),t("div",vt,[t("div",ft,[ht,bt,t("div",xt,[yt,t("div",null,[t("p",null,l(o.resource.data.customer),1),t("p",null,l(o.resource.data.contract),1),t("p",null,l(o.resource.data.cam),1),t("p",null,l(o.resource.data.location),1)])])]),t("div",wt,[Pt,Ct,t("div",kt,[Mt,t("div",null,[t("p",$t,l(o.resource.data.aircraft),1),t("p",Dt,l(o.resource.data.description),1),t("p",St,l(o.resource.data.start_date),1),t("p",Vt,l(o.resource.data.finish_date),1)])])]),t("div",Nt,[Ut,jt,t("div",At,[Ft,t("div",null,[t("p",It,l(a(x)(A.value)),1),t("p",Lt,l(a(x)(F.value)),1),Tt,t("p",Bt,l(a(x)(Number(A.value)+Number(F.value))),1)])])])]),t("div",null,[t("form",qt,[v(t("input",{id:"search","onUpdate:modelValue":s[2]||(s[2]=e=>_.value=e),class:"px-4 py-2 rounded-md border-gray-300 w-3/12",name:"search",placeholder:"type for search and clear to reset",type:"text",onKeyup:s[3]||(s[3]=(...e)=>a(j)&&a(j)(...e))},null,544),[[h,_.value]])]),d(H,{name:"fade",appear:""},{default:i(()=>[d(tt,{closeable:!0,show:C.value,onClose:s[14]||(s[14]=e=>C.value=!1)},{default:i(()=>[t("div",zt,[t("div",Et,[t("div",null,[d(b,{for:"name"},{default:i(()=>[m("Activity")]),_:1}),v(t("input",{class:"rounded-md border-gray-100",type:"text",name:"name",id:"name","onUpdate:modelValue":s[4]||(s[4]=e=>a(n).name=e),readonly:"",disabled:""},null,512),[[h,a(n).name]])]),a(n).date?(r(),u("div",Ot,[d(b,{for:"date"},{default:i(()=>[m("Date")]),_:1}),v(t("input",{class:"rounded-md border-gray-100",type:"text",name:"date",id:"date","onUpdate:modelValue":s[5]||(s[5]=e=>a(n).date=e),readonly:"",disabled:""},null,512),[[h,a(n).date]])])):M("",!0)]),t("div",Rt,[t("div",null,[d(b,{for:"description"},{default:i(()=>[m("Description")]),_:1}),v(t("textarea",{id:"description",class:"rounded-md border-gray-300 w-full",cols:"30",name:"description",rows:"5","onUpdate:modelValue":s[6]||(s[6]=e=>a(n).description=e)},null,512),[[h,a(n).description]])]),t("div",null,[d(b,{for:"comments"},{default:i(()=>[m("Comments")]),_:1}),t("div",null,[v(t("textarea",{id:"comments",class:"rounded-md border-gray-300 w-full",cols:"30",name:"comments",rows:"5","onUpdate:modelValue":s[7]||(s[7]=e=>a(n).comments=e)},null,512),[[h,a(n).comments]])])])]),t("div",Wt,[d(b,{for:"material_mount"},{default:i(()=>[m("AWR")]),_:1}),v(t("input",{id:"awr","onUpdate:modelValue":s[8]||(s[8]=e=>a(n).awr=e),class:"rounded-md border-gray-300 w-full",name:"awr",type:"text"},null,512),[[h,a(n).awr]])]),t("div",Gt,[t("div",Ht,[d(b,{for:"labor_mount"},{default:i(()=>[m("Labor Mount")]),_:1}),v(t("input",{id:"labor_mount","onUpdate:modelValue":s[9]||(s[9]=e=>a(n).labor_mount=e),class:"text-right rounded-md border-gray-300",name:"labor_mount",type:"number"},null,512),[[h,a(n).labor_mount]])]),t("div",Kt,[d(b,{for:"material_mount"},{default:i(()=>[m("Material Mount")]),_:1}),v(t("input",{id:"labor_mount","onUpdate:modelValue":s[10]||(s[10]=e=>a(n).material_mount=e),class:"text-right rounded-md border-gray-300",name:"labor_mount",type:"number"},null,512),[[h,a(n).material_mount]])])]),t("div",null,[d(b,null,{default:i(()=>[m("Material Information")]),_:1}),v(t("textarea",{id:"description",class:"rounded-md border-gray-300 w-full",cols:"30",name:"description",rows:"2","onUpdate:modelValue":s[11]||(s[11]=e=>a(n).material_information=e)},null,512),[[h,a(n).material_information]])]),t("div",null,[d(b,{for:"status"},{default:i(()=>[m("Status")]),_:1}),v(t("select",{name:"status",id:"status",class:"rounded-md border-gray-300","onUpdate:modelValue":s[12]||(s[12]=e=>a(n).status=e)},[(r(!0),u(k,null,N(z.value,(e,S)=>(r(),u("option",{key:S,value:e.value},l(e.label),9,Zt))),128))],512),[[K,a(n).status]])]),t("div",Jt,[a(n).isDirty?(r(),Z(st,{key:0},{default:i(()=>[m("Save")]),_:1})):M("",!0),d(at,{onClick:s[13]||(s[13]=e=>C.value=!1)},{default:i(()=>[m("Close")]),_:1})])])]),_:1},8,["show"])]),_:1}),t("table",Qt,[Xt,t("tbody",null,[(r(!0),u(k,null,N(y.value&&y.value.resource,(e,S)=>(r(),u("tr",{key:S,class:"cursor-pointer",onClick:me=>q(e)},[t("td",null,l(e.id),1),t("td",null,l(e.date),1),t("td",null,l(e.name),1),t("td",te,[e.status==="pending"?(r(),u("span",ee,l(e.status),1)):e.status==="in_progress"?(r(),u("span",se,l(e.status),1)):(r(),u("span",ae,l(e.status),1))]),t("td",oe,l(a(x)(e.labor_mount)),1),t("td",le,l(a(x)(e.material_mount)),1),t("td",null,[t("span",ne,l(e.awr),1)]),t("td",re,[e.approval_status==="pending"?(r(),u("span",de,l(e.approval_status),1)):(r(),u("span",ie,l(e.approval_status),1))])],8,Yt))),128))])]),t("div",ue,[d(ct,{"current-page":g.value,"last-page":w.value,onPageChange:U},null,8,["current-page","last-page"])])])])])]),_:1})],64))}},Pe=ot(ce,[["__scopeId","data-v-d1f5d99d"]]);export{Pe as default};
